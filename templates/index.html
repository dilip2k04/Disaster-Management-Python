<!-- UPDATED MODERN GLASSMORPHISM UI VERSION -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Safety Bridge | Disaster Preparedness & Response</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    :root {
      --primary: #ef4444;
      --secondary: #2563eb;
      --accent: #22c55e;
      --dark: #0f172a;
      --light: #f8fafc;
      --glass: rgba(255,255,255,0.15);
      --blur: blur(20px);
      --radius: 18px;
      --shadow: 0 20px 40px rgba(0,0,0,.15);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

   body {
font-family: 'Inter', sans-serif;
background:
linear-gradient(rgba(15,23,42,0.65), rgba(15,23,42,0.65)),
url("/static/images/flood2.jpeg") no-repeat center center fixed;
background-size: cover;
color: var(--dark);
}

    a { text-decoration: none; color: inherit; }

    /* ================= HEADER ================= */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      backdrop-filter: var(--blur);
      background: linear-gradient(135deg, rgba(239,68,68,0.85), rgba(37,99,235,0.85));
      box-shadow: var(--shadow);
      border-bottom-left-radius: 40px;
      border-bottom-right-radius: 40px;
    }

    .nav-container {
      max-width: 1200px;
      margin: auto;
      padding: 1rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-weight: 700;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    nav ul {
      display: flex;
      gap: 1.8rem;
      align-items: center;
      list-style: none;
    }

    nav a { font-weight: 500; opacity: .9; }
    nav a:hover { color: var(--primary); }

    .sos-nav-button {
      background: var(--primary);
      color: white;
      padding: .55rem 1.2rem;
      border-radius: 999px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(239,68,68,.4);
    }

    /* ================= HERO ================= */
    .hero {
      min-height: 100vh;
      padding-top: 90px;
      display: flex;
      align-items: center;
      text-align: center;
      background: linear-gradient(rgba(15,23,42,.7), rgba(15,23,42,.7)), url('https://www.pexels.com/photo/buildings-covered-with-the-water-14823611/') center/cover;
      color: white;
    }

    .hero-content {
      max-width: 900px;
      margin: auto;
      padding: 2rem;
    }

    .hero h1 { font-size: 3rem; margin-bottom: 1rem; }
    .hero p { font-size: 1.2rem; opacity: .9; }

    .hero-buttons {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: .8rem 1.8rem;
      border-radius: 999px;
      font-weight: 600;
      border: none;
      cursor: pointer;
    }
	/* Quick Access Section */
.quick-access {
  padding: 5rem 1.5rem;
  background: linear-gradient(135deg, rgba(15,23,42,0.85), rgba(15,23,42,0.9));
  color: white;
}

.quick-access .section-title {
  text-align: center;
  font-size: 2.4rem;
  margin-bottom: 3rem;
  font-weight: 700;
}

/* Grid layout */
.quick-access .grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 2rem;
}

/* Glassmorphic cards */
.quick-access .grid-item {
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 2rem 1.5rem;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  transition: transform 0.3s, box-shadow 0.3s;
}

.quick-access .grid-item:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0,0,0,0.35);
}

/* Icon container */
.quick-access .icon-container {
  font-size: 2.8rem;
  margin-bottom: 1rem;
  width: 70px;
  height: 70px;
  line-height: 70px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: white;
  transition: transform 0.3s;
}

/* Gradient Icon Background */
.quick-access .gradient-icon {
  background: linear-gradient(135deg, #ef4444, #fbbf24, #22c55e);
}

.quick-access .grid-item:hover .icon-container {
  transform: scale(1.2) rotate(10deg);
}

/* Card Headings */
.quick-access h3 {
  font-size: 1.3rem;
  margin-bottom: 0.8rem;
  font-weight: 600;
}

/* Buttons */
.quick-access .btn-gradient {
  display: inline-block;
  margin-top: 1rem;
  padding: 0.7rem 1.5rem;
  border-radius: 999px;
  background: linear-gradient(135deg, #ef4444, #fbbf24, #22c55e);
  color: white;
  font-weight: 600;
  text-decoration: none;
  transition: transform 0.3s, box-shadow 0.3s;
}

.quick-access .btn-gradient:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.35);
}

    .btn-primary { background: var(--primary); color: white; }
    .btn-secondary { background: var(--secondary); color: white; }
    .btn-alert { background: #f59e0b; color: white; }

    /* ================= DASHBOARD ================= */
    section { padding: 5rem 1.5rem; }

    .section-title {
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 3rem;
    }

    .glass-card {
      background: rgba(255,255,255,0.2);
      backdrop-filter: var(--blur);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.5rem;
    }

    #disasterMap {
      height: 480px;
      border-radius: var(--radius);
    }

    .stats {
      margin-top: 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
      gap: 1.5rem;
    }

    .stat-card {
      text-align: center;
      padding: 2rem;
      border-radius: var(--radius);
      background: linear-gradient(135deg,#fff,#f1f5f9);
    }

    .stat-card h2 { font-size: 2.2rem; color: var(--primary); }

    /* ================= QUICK ACCESS ================= */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
      gap: 2rem;
    }

    .grid-item {
      padding: 2.5rem 2rem;
      text-align: center;
      border-radius: var(--radius);
      background: rgba(255,255,255,0.2);
      backdrop-filter: var(--blur);
      box-shadow: var(--shadow);
      transition: transform .3s;
    }

    .grid-item:hover { transform: translateY(-8px); }

    .grid-item i {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--secondary);
    }

    /* ================= CHATBOT ================= */
    .ai-assistant {
      position: fixed;
      bottom: 30px;
      right: 30px;
    }

    .ai-button {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: linear-gradient(135deg,var(--primary),#fb7185);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.6rem;
      box-shadow: var(--shadow);
      cursor: pointer;
    }

    /* ================= FOOTER ================= */
    footer {
      position: relative;
      background: rgba(15,23,42,0.85);
      backdrop-filter: var(--blur);
      color: white;
      padding: 5rem 1.5rem 3rem;
      border-top-left-radius: 60px;
      border-top-right-radius: 60px;
    }

    footer::before {
      content: "";
      position: absolute;
      top: -60px;
      left: 0;
      width: 100%;
      height: 60px;
      background: radial-gradient(120% 100% at 50% 100%, transparent 60%, rgba(15,23,42,0.85) 61%);
    }

    .footer-content {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 2rem;
      margin-bottom: 2rem;
      text-align: left;
      max-width: 1200px;
      margin: auto;
    }

    .footer-section {
      flex: 1 1 220px;
    }

    .footer-section h3 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
    }

    .footer-section ul li {
      margin-bottom: .6rem;
    }

    .footer-section ul li a {
      color: white;
      opacity: 0.9;
      transition: 0.3s;
    }

    .footer-section ul li a:hover {
      color: var(--primary);
      opacity: 1;
    }

    .social-icons a {
      display: inline-block;
      margin-right: 0.5rem;
      font-size: 1.2rem;
      color: white;
      transition: 0.3s;
    }

    .social-icons a:hover {
      color: var(--primary);
    }

    .newsletter {
      margin-top: 1rem;
      display: flex;
      gap: .5rem;
    }

    .newsletter input {
      padding: .5rem .8rem;
      border-radius: 999px;
      border: none;
      flex: 1;
    }

    .newsletter button {
      border: none;
      padding: .5rem 1rem;
      border-radius: 999px;
      background: var(--primary);
      color: white;
      cursor: pointer;
    }

    .footer-bottom {
      border-top: 1px solid rgba(255,255,255,0.2);
      padding-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      font-size: 0.9rem;
      max-width: 1200px;
      margin: auto;
    }

    .footer-bottom .footer-links a {
      margin-left: 1rem;
      color: white;
      opacity: 0.8;
      transition: 0.3s;
    }

    .footer-bottom .footer-links a:hover {
      color: var(--primary);
      opacity: 1;
    }

    /* ================= RESPONSIVE ================= */
    @media(max-width:768px){
      nav ul { display: none; }
      .hero h1 { font-size: 2.2rem; }
      .footer-content { text-align: center; flex-direction: column; gap: 1.5rem; }
      .footer-bottom { flex-direction: column; gap: 0.5rem; }
      .footer-bottom .footer-links a { margin-left: 0; margin-right: 1rem; }
    }
  </style>
</head>
<body>
<!-- ===== HEADER ===== -->
<header>
  <div class="nav-container">
    <div class="logo"><i class="fas fa-shield-alt"></i> Safety Bridge</div>
    <nav>
      <ul>
        <li><a href="{{url_for('home')}}">Home</a></li>
        <li><a href="{{url_for('admin_login')}}">Send Alerts</a></li>
        <li><a href="{{url_for('about')}}">About</a></li>
        <li><a href="{{url_for('register')}}">Register</a></li>
        <li><button class="sos-nav-button" id="sosButton"><i class="fas fa-bell"></i> EMERGENCY SOS</button></li>
      </ul>
    </nav>
  </div>
</header>

<!-- ===== HERO ===== -->
<section class="hero">
  <div class="hero-content">
    <h1><i class="fas fa-shield-heart" style="margin-right:10px;color:#fca5a5"></i>Empowering Resilience Through Preparedness & Action</h1>
    <p>Realâ€‘time alerts, lifeâ€‘saving resources, and community support</p>
    <div class="hero-buttons">
      <a href="{{ url_for('alerts') }}" class="btn btn-primary">Get Alerts</a>
      <a href="{{url_for('contacts')}}" class="btn btn-secondary">Emergency Contacts</a>
      <a href="#" class="btn btn-alert">Report Disaster</a>
    </div>
  </div>
</section>

<!-- ===== LIVE THREAT DASHBOARD ===== -->
<section>
  <h2 class="section-title"><i class="fas fa-chart-line" style="color:#2563eb;margin-right:10px"></i>Live Threat Dashboard</h2>
  <div class="glass-card">
    <div class="map-controls" style="margin-bottom:10px;">
      <button class="control-btn active" data-layer="all">All Threats</button>
      <button class="control-btn" data-layer="earthquake">Earthquakes</button>
      <button class="control-btn" data-layer="flood">Floods</button>
      <button class="control-btn" data-layer="wildfire">Wildfires</button>
      <button class="control-btn" data-layer="hurricane">Hurricanes</button>
    </div>
    <div id="disasterMap"></div>
  </div>

  <div class="stats">
    <div class="stat-card"><h2><i class="fas fa-triangle-exclamation"></i> <span id="activeDisasters">4</span></h2><p>Active Disasters</p></div>
    <div class="stat-card"><h2><i class="fas fa-users"></i> <span id="peopleAssisted">3,452</span></h2><p>People Assisted Today</p></div>
    <div class="stat-card"><h2><i class="fas fa-person-running"></i> <span id="preparednessDrills">12</span></h2><p>Preparedness Drills</p></div>
  </div>
</section>

<!-- Preparedness Quick Access -->
<section class="quick-access">
  <div class="container">
    <h2 class="section-title"><i class="fas fa-bolt" style="color:#ef4444;margin-right:8px"></i>Get Prepared in Minutes</h2>
    <div class="grid">
      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-first-aid"></i></div>
        <h3>Build Your Emergency Kit</h3>
        <p>Essential items checklist tailored to your location</p>
        <a href="{{url_for('emergency')}}" class="btn btn-gradient">Get Checklist</a>
      </div>

      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-people-arrows"></i></div>
        <h3>Find Your Family</h3>
        <p>Reports of missing persons available here</p>
        <a href="{{url_for('missing')}}" class="btn btn-gradient">Find Now</a>
      </div>

      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-map-marked-alt"></i></div>
        <h3>Know Your Evacuation Routes</h3>
        <p>Personalized evacuation maps for your area</p>
        <a href="{{url_for('routes')}}" class="btn btn-gradient">View Routes</a>
      </div>

      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-heartbeat"></i></div>
        <h3>Learn CPR & First Aid</h3>
        <p>Free training resources and local classes</p>
        <a href="{{url_for('firstaid')}}" class="btn btn-gradient">Learn Now</a>
      </div>

      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-home"></i></div>
        <h3>Protect Your Home</h3>
        <p>Disaster-specific home protection tips</p>
        <a href="{{url_for('protection')}}" class="btn btn-gradient">Secure Home</a>
      </div>

      <div class="grid-item glass-card">
        <div class="icon-container gradient-icon"><i class="fas fa-hands-helping"></i></div>
        <h3>Donations</h3>
        <p>Build your social network</p>
        <a href="{{url_for('donation')}}" class="btn btn-gradient">Join Community</a>
      </div>
    </div>
  </div>
</section>

<!-- ===== AI CHATBOT ===== -->
<div class="ai-assistant" id="aiAssistant">
  <div class="ai-button" id="aiButton"><i class="fas fa-robot"></i></div>
  <div class="ai-chatbox" id="aiChatbox" style="display:none;position:fixed;bottom:100px;right:30px;width:300px;background:var(--glass);backdrop-filter:var(--blur);border-radius:var(--radius);box-shadow:var(--shadow);z-index:1000;">
    <div class="chat-header" style="padding:.5rem 1rem; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid rgba(255,255,255,0.2);">
      <h3>DisasterBot Assistant</h3>
      <button class="close-chat" style="background:none;border:none;color:white;font-size:1.2rem;cursor:pointer;"><i class="fas fa-times"></i></button>
    </div>
    <div class="chat-messages" id="chatMessages" style="max-height:300px;overflow-y:auto;padding:1rem;color:white;">
      <div class="message bot"><p>Hello! I'm DisasterBot. How can I help you today?</p></div>
    </div>
    <div class="chat-input" style="display:flex;padding:.5rem;">
      <input type="text" id="userInput" placeholder="Ask me anything..." style="flex:1;border-radius:999px;border:none;padding:.5rem .8rem;">
      <button id="sendMessage" style="border:none;padding:.5rem .8rem;border-radius:999px;background:var(--primary);color:white;margin-left:.3rem;"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>
</div>

<!-- ===== FOOTER ===== -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="{{url_for('contacts')}}">Emergency Contacts</a></li>
        <li><a href="{{url_for('user')}}">Disaster Types</a></li>
        <li><a href="{{url_for('missing')}}">Volunteer Opportunities</a></li>
        <li><a href="{{url_for('donation')}}">Donate</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Resources</h3>
      <ul>
        <li><a href="#">Printable Guides</a></li>
        <li><a href="#">Mobile App</a></li>
        <li><a href="#">Training Courses</a></li>
        <li><a href="#">Research</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Connect</h3>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
      <div class="newsletter">
        <input type="email" placeholder="Your email">
        <button>Subscribe</button>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; ResilienceHub. All rights reserved.</p>
    <div class="footer-links">
      <a href="#">Privacy Policy</a>
      <a href="#">Terms of Service</a>
      <a href="#">Accessibility</a>
    </div>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function(){
  // Initialize map
  const map = L.map('disasterMap').setView([20.5937, 78.9629], 5);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{ attribution:'&copy; OpenStreetMap contributors'}).addTo(map);

  // Sample markers
  const markers = [
    {coords:[19.0760,72.8777],icon:'ðŸŒ‹',popup:'Mumbai: Earthquake Alert (4.5)'},
    {coords:[28.6139,77.2090],icon:'ðŸŒŠ',popup:'Delhi: Flood Warning'},
    {coords:[12.9716,77.5946],icon:'ðŸ”¥',popup:'Bengaluru: Wildfire'},
    {coords:[13.0827,80.2707],icon:'ðŸŒ€',popup:'Chennai: Cyclone Warning'}
  ];
  markers.forEach(m=>{
    L.marker(m.coords,{icon:L.divIcon({className:'marker-icon',html:m.icon})}).addTo(map).bindPopup(m.popup);
  });

  // Layer filter buttons
  document.querySelectorAll('.control-btn').forEach(btn=>{
    btn.addEventListener('click',function(){
      document.querySelectorAll('.control-btn').forEach(b=>b.classList.remove('active'));
      this.classList.add('active');
      console.log('Layer:',this.dataset.layer);
    });
  });

  // AI Chatbot toggle
  const aiButton=document.getElementById('aiButton');
  const aiChatbox=document.getElementById('aiChatbox');
  const closeChat=aiChatbox.querySelector('.close-chat');
  aiButton.addEventListener('click',()=>aiChatbox.style.display=aiChatbox.style.display==='block'?'none':'block');
  closeChat.addEventListener('click',()=>aiChatbox.style.display='none');

  // SOS button
  const sosButton=document.getElementById('sosButton');
  sosButton.addEventListener('click',()=>{
    sosButton.innerHTML='<i class="fas fa-spinner fa-spin"></i> SENDING SOS...';
    navigator.geolocation.getCurrentPosition(pos=>{
      console.log('SOS Coordinates:', pos.coords.latitude,pos.coords.longitude);
      sosButton.innerHTML='<i class="fas fa-check"></i> SOS SENT!';
      setTimeout(()=>sosButton.innerHTML='<i class="fas fa-bell"></i> EMERGENCY SOS',5000);
    },err=>{
      sosButton.innerHTML='<i class="fas fa-exclamation-triangle"></i> LOCATION DENIED';
      setTimeout(()=>sosButton.innerHTML='<i class="fas fa-bell"></i> EMERGENCY SOS',3000);
    });
  });
});
</script>

</body>
</html>
